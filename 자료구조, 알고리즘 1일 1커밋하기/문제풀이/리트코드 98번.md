# Validate Binary Search

## 문제 정의

- 서브트리가 strictly less/more -> 노드의 자식이 노드값이랑 같은 경우 허용 안 됨
- 노드의 서브트리가 가질 수 있는 값
  - 왼쪽 서브트리: 노드가 가질 수 있는 최소값보다 작은 값 ~ 노드값-1
  - 오른쪽 서브트리: 노드값+1 ~ 노드가 가질 수 있는 최대값보다 큰 값 

## 구현

### Range 클래스

- 각 노드별로 가질 수 있는 값의 범위 저장
- Node.val의 범위가 -2^31 <= Node.val <= 2^31 - 1 이기 때문에 값의 범위를 체크하는 값에 Integer.MIN_VALUE, Integer.MAX_VALUE 사용 시 오류 발생  (Node.val이 경계값일 수 있음)
- 값 범위 체크에 long 사용 (원시형 정수값이기 때문에 int와 값 비교 가능하므로 선택)

```java

    static class Range {
        TreeNode node;
        long min;
        long max;

        public Range(TreeNode node, long min, long max){
            this.node=node;
            this.min=min;
            this.max=max;
        }
    }

```

### visit()

- 노드를 방문하여 해당 노드가 범위값 안에 있는지 확인
- 범위값 안에 없다면 바로 false 리턴, 함수 중단하여 불필요한 호출 막음

``` java

    private static boolean visit(TreeNode root){
        Queue<Range> queue=new LinkedList<>();
        long MIN=Long.MIN_VALUE;
        long MAX=Long.MAX_VALUE;
        queue.add(new Range(root, MIN, MAX));

        while(!queue.isEmpty()){
            Range range=queue.poll();
            TreeNode node=range.node;
            int val= node.val;

            if(val<=range.min || val>=range.max){
                return false;
            }

            if(node.left!=null){
                queue.add(new Range(node.left, range.min, node.val));
            }

            if(node.right!=null){
                queue.add(new Range(node.right, node.val, range.max));
            }
        }

        return true;
        
    }

```
